<html>
<script src="libmp3lame.min.js"></script>
<script>
// test mp3

//importScripts('libmp3lame.min.js');
//importScripts('../resampler.js');

var mp3codec;
var outputSampleRate;

mp3codec = Lame.init();

 

Lame.set_mode(mp3codec,  Lame.JOINT_STEREO);
Lame.set_num_channels(mp3codec,  2);
Lame.set_num_samples(mp3codec,  -1);
Lame.set_in_samplerate(mp3codec,  44100);
Lame.set_artist(mp3codec, "XXX");


	outputSampleRate  =   44100;


Lame.set_out_samplerate(mp3codec, outputSampleRate);
Lame.set_bitrate(mp3codec, 128);

Lame.init_params(mp3codec);
console.log('Version :', Lame.get_version() + ' / ',
	'Mode: '+Lame.get_mode(mp3codec) + ' / ',
	'Samples: '+Lame.get_num_samples(mp3codec) + ' / ',
	'Channels: '+Lame.get_num_channels(mp3codec) + ' / ',
	'Input Samplate: '+ Lame.get_in_samplerate(mp3codec) + ' / ',
	'Output Samplate: '+ Lame.get_out_samplerate(mp3codec) + ' / ',
	'Bitlate :' +Lame.get_bitrate(mp3codec) + ' / ',
	'VBR :' + Lame.get_VBR(mp3codec));



var mp3data = Lame.encode_buffer_ieee_float(mp3codec, [0,0,0,0], [0,0,0,0]);

console.log(mp3data);
</script>
</html>